<!DOCTYPE html>
<html lang="vi"><meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Web Storage | Dang Thanh Blog</title>
<meta name="description" content="Blog chia sẻ về web và phát triển web">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
<link rel="manifest" href="/images/favicon/manifest.json">
<link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css?family=Fira+Mono|Roboto+Slab&amp;subset=vietnamese" rel="stylesheet">

<link rel="stylesheet" href="https://dangthanh.org/css/anitya.min.d278f9e4174d14ee9d2e2b88053b717dea6619a85b35918ed79df9428374f1fc.css" integrity="sha256-0nj55BdNFO6dLiuIBTtxfepmGahbNZGO1535QoN08fw=">
<link href="" rel="alternate" type="application/rss+xml" title="Dang Thanh Blog">
<body>
      <a href="#" class="site-corner js-corner" aria-label="Night">
        <i class="icon icon-moon"></i>
      </a>
      <div class="site"><header role="banner" class="site-header">
  <div class="site-logo">
      <a href="/">DT</a>
  </div>
  <nav role="navigation" class="site-nav">
    <ul class="no-list m-0 p-0">
      <li>
        <a href="/" data-link="home" class="no-underline hover:line-through">Bài viết</a>
      </li>
      <li>
        <a href="/tags" data-link="tags" class="no-underline hover:line-through">Lưu trữ</a>
      </li>
      <li>
        <a href="/about" data-link="about" class="no-underline hover:line-through">Về tui</a>
      </li>
    </ul>
  </nav>
</header>
<main role="main" class="site-main">
          <div id="main"><div class="article article-single" itemscope itemtype="//schema.org/Article">
    
      <h2 itemprop="headline">Web Storage</h2>
      <ul class="no-list p-0 m-0">
      
        <li class="inline-block"><a href="/tags/javascript" class="tag tag-javascript">javascript</a></li>
      
      </ul>
    

    <div class="article-body" itemprop="articleBody">
      

<p>Để lưu trữ thông tin ở phía trình duyệt, trước đây ta vẫn thường dùng cookies. Nhưng cookies vẫn còn một số hạn chế:</p>

<ul>
<li>Khi truyền tải, cookies mang theo HTTP request, đều này sẽ làm chậm đi ứng dụng web của bạn.</li>
<li>Giới hạn dung lượng thấp chỉ 4 KB.</li>
<li>Thật khó để duy dõi nhiều cookies trên một trang web.</li>
</ul>

<p>HTML5 cung cấp một API mới để có thể lưu trữ dữ liệu ở phía client với nhiều cải thiện cho cookies là web storage. Một số ưu điểm web storage so với cookies:</p>

<ul>
<li>Dung lượng lên đến 5 MB (trình duyệt Google Chrome, Mozilla Firefox, Opera), 10 MB (Internet Explorer)</li>
<li>Dữ liệu web storage sẽ không được truyền đến máy chủ</li>
<li>Cung cấp hai cách lưu trữ khác nhau: local storage và session storage</li>
</ul>

<h3 id="web-storage">Web Storage</h3>

<p>Web Storage hiện tại đã hỗ trợ rất nhiều trình duyệt.</p>




<caniuse features="namevalue-storage"></caniuse>


<p>Web Storage cung cấp các phương thức sau. Ở đây mình sử dụng localStorage, bạn có thể sử dụng sessionStorage nếu muốn.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="c1">// Lưu trữ dữ liệu
</span><span class="c1"></span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>          <span class="c1">// Lấy dữ liệu
</span><span class="c1"></span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>       <span class="c1">// Xóa dữ liệu lưu trên key
</span><span class="c1"></span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">clear</span><span class="p">()</span>                 <span class="c1">// Xóa tất cả dữ liệu lưu bởi web storage
</span><span class="c1"></span></code></pre></div>
<h3 id="sử-dụng-local-storage">Sử dụng Local Storage</h3>

<p>Dữ liệu trên local storage sẽ được tự động chuyển sang kiểu &lsquo;string&rsquo; trên trình duyệt. Tuy nhiên local storage lại hoạt động rất tốt với đối tượng trong JavaScript.</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="c1">// Lưu trữ một đối tượng
</span><span class="c1"></span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span><span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">));</span> <span class="c1">// string
</span><span class="c1"></span>
<span class="c1">// Lữu trữ một kiểu số
</span><span class="c1"></span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">));</span> <span class="c1">// string
</span><span class="c1"></span>
<span class="c1">// Lưu trữ một đối tượng
</span><span class="c1"></span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Dang Thanh&#39;</span><span class="p">,</span> <span class="nx">age</span><span class="o">:</span> <span class="mi">24</span><span class="p">}));</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// value
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span>  <span class="c1">// value
</span><span class="c1"></span></code></pre></div>
<h3 id="ví-dụ-local-storage">Ví dụ Local Storage</h3>




 


<p data-height="290"
	data-theme-id="652"
	data-slug-hash="jCcxI"
	data-user="dangvanthanh"
	data-default-tab="result"
	class='codepen'>
</p>


    </div>
    
      <section itemscope itemtype="//schema.org/Person" class="site-author cf">
  <img itemprop="image" src="https://avatars2.githubusercontent.com/u/2674850?v=3&s=100" class="fl" alt="Đặng Văn Thanh">
  <div class="fl">
    <h4 itemprop="author">Đặng Văn Thanh</h4>
    <span itemprop="description">Có đam mê về lập trình và các vấn đề về phát triển web.</span>
  </div>
</section>

      
  


  <aside class="article-body article-related mt-40">
    <h3>Bài viết liên quan</h3>
    <ul>
      
      
        <li><a href="/blog/tao-mp3-player-voi-html5-va-css3/">Tạo MP3 Player với HTML5 và CSS3</a>
      
        <li><a href="/blog/html5-fullscreen-api/">HTML5 Fullscreen API</a>
      
        <li><a href="/blog/do-bong-mixin-voi-text-shadow/">Đổ Bóng Mixin Với Text-Shadow</a>
      
        <li><a href="/blog/checkboxes-jquery-plugin/">Checkboxes jQuery Plugin</a>
      
        <li><a href="/blog/html5-geolocation-va-leaflet/">HTML5 Geolocation và Leaflet</a>
      
    </ul>
  </aside>


    
  </div>
          </div><footer role="contentinfo" class="site-footer">
  <p>
    &copy;2013 - 2018. Được xây dựng bằng
    <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo</a>,
    <a href="https://vuejs.org/" rel="noopener" target="_blank">Vue.js</a>.
  </p>
</footer>


</main>
      </div>
<script type="text/javascript" defer>
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-41117458-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>


<script defer src="//codepen.io/assets/embed/ei.js"></script>
<script defer src="//unpkg.com/vue@2.5.17/dist/vue.min.js"></script>


<script defer src="https://dangthanh.org/js/anitya.min.ee5ee485c576b44fb3c6dc30de482ef45a4d82d39b398d8f7334a9ce8735e10a.js" integrity="sha256-7l7khcV2tE&#43;zxtww3kgu9FpNgtObOY2PczSpzoc14Qo="></script>
</body>
</html>
