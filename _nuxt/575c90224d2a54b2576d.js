(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{198:function(n,l){n.exports={attributes:{title:"Web Storage",slug:"web-storage",date:"2013-08-10",tags:["javascript"]},html:'<p>Để lưu trữ thông tin ở phía trình duyệt, trước đây ta vẫn thường dùng cookies. Nhưng cookies vẫn còn một số hạn chế:</p>\n<ul>\n<li>Khi truyền tải, cookies mang theo HTTP request, đều này sẽ làm chậm đi ứng dụng web của bạn.</li>\n<li>Giới hạn dung lượng thấp chỉ 4 KB.</li>\n<li>Thật khó để duy dõi nhiều cookies trên một trang web.</li>\n</ul>\n<p>HTML5 cung cấp một API mới để có thể lưu trữ dữ liệu ở phía client với nhiều cải thiện cho cookies là web storage. Một số ưu điểm web storage so với cookies:</p>\n<ul>\n<li>Dung lượng lên đến 5 MB (trình duyệt Google Chrome, Mozilla Firefox, Opera), 10 MB (Internet Explorer)</li>\n<li>Dữ liệu web storage sẽ không được truyền đến máy chủ</li>\n<li>Cung cấp hai cách lưu trữ khác nhau: local storage và session storage</li>\n</ul>\n<h3>Web Storage</h3>\n<p>Web Storage hiện tại đã hỗ trợ rất nhiều trình duyệt.</p>\n\x3c!-- caniuse features="namevalue-storage"  --\x3e\n<p>Web Storage cung cấp các phương thức sau. Ở đây mình sử dụng localStorage, bạn có thể sử dụng sessionStorage nếu muốn.</p>\n<pre class="hljs"><code>localStorage.setItem(<span class="hljs-string">\'key\'</span>, <span class="hljs-string">\'value\'</span>) <span class="hljs-comment">// Lưu trữ dữ liệu</span>\nlocalStorage.getItem(<span class="hljs-string">\'key\'</span>)          <span class="hljs-comment">// Lấy dữ liệu</span>\nlocalStorage.removeItem(<span class="hljs-string">\'key\'</span>)       <span class="hljs-comment">// Xóa dữ liệu lưu trên key</span>\nlocalStorage.clear()                 <span class="hljs-comment">// Xóa tất cả dữ liệu lưu bởi web storage</span>\n</code></pre>\n<h3>Sử dụng Local Storage</h3>\n<p>Dữ liệu trên local storage sẽ được tự động chuyển sang kiểu \'string\' trên trình duyệt. Tuy nhiên local storage lại hoạt động rất tốt với đối tượng trong JavaScript.</p>\n<pre class="hljs"><code><span class="hljs-comment">// Lưu trữ một đối tượng</span>\nlocalStorage.setItem(<span class="hljs-string">\'key\'</span>, {<span class="hljs-attr">name</span>: <span class="hljs-string">\'value\'</span>});\n<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> localStorage.getItem(<span class="hljs-string">\'key\'</span>)); <span class="hljs-comment">// string</span>\n\n<span class="hljs-comment">// Lữu trữ một kiểu số</span>\nlocalStorage.setItem(<span class="hljs-string">\'key\'</span>, <span class="hljs-number">1</span>);\n<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> localStorage.getItem(<span class="hljs-string">\'key\'</span>)); <span class="hljs-comment">// string</span>\n\n<span class="hljs-comment">// Lưu trữ một đối tượng</span>\nlocalStorage.setItem(<span class="hljs-string">\'key\'</span>, <span class="hljs-built_in">JSON</span>.stringify({<span class="hljs-attr">name</span>: <span class="hljs-string">\'Dang Thanh\'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span>}));\n<span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">JSON</span>.parse(localStorage.getItem(<span class="hljs-string">\'key\'</span>));\n<span class="hljs-built_in">console</span>.log(obj.name); <span class="hljs-comment">// value</span>\n<span class="hljs-built_in">console</span>.log(obj.age);  <span class="hljs-comment">// value</span>\n</code></pre>\n<h3>Ví dụ Local Storage</h3>\n<p><iframe src="https://codesandbox.io/embed/web-local-storage-no1iq?view=preview" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe></p>\n'}}}]);